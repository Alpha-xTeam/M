<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØ Ÿäÿß ⁄ØŸÑÿ®Ÿä üíï</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #ff006e;
            --secondary: #8338ec;
            --accent: #3a86ff;
            --gold: #ffd60a;
            --pink-light: #ff85a1;
            --bg-dark: #0a0a0f;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--bg-dark);
            overflow-x: hidden;
            cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><text y="24" font-size="24">üíï</text></svg>'), auto;
        }

        /* Click Hearts Effect */
        .click-heart {
            position: fixed;
            pointer-events: none;
            animation: float-up-heart 1.5s ease-out forwards;
            z-index: 99999;
            font-size: 2rem;
        }

        @keyframes float-up-heart {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(15deg); opacity: 1; }
            100% { transform: scale(0.5) translateY(-150px) rotate(-15deg); opacity: 0; }
        }

        /* ===== INTRO ANIMATION ===== */
        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: 100dvh;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1025 50%, #0a0a0f 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 1s ease, transform 1s ease;
        }

        .intro-screen.hide {
            opacity: 0;
            transform: scale(1.1);
            pointer-events: none;
        }

        .rose-container {
            position: relative;
            width: min(280px, 65vw);
            height: min(320px, 50vh);
        }

        .rose-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 30px rgba(255, 0, 110, 0.5));
        }

        .rose-petal {
            fill: none;
            stroke: var(--primary);
            stroke-width: 2;
            stroke-linecap: round;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw-petal 2s ease forwards;
        }

        .rose-petal.fill {
            fill: var(--primary);
            fill-opacity: 0;
            animation: draw-petal 2s ease forwards, fill-petal 1s ease 1.5s forwards;
        }

        .rose-petal-inner { stroke: #ff4d8d; animation-delay: 0.3s; }
        .rose-petal-center { stroke: #ff1a75; animation-delay: 0.6s; }

        .rose-stem {
            fill: none;
            stroke: #2d8f4e;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            animation: draw-stem 1.5s ease 1.8s forwards;
        }

        .rose-leaf {
            fill: none;
            stroke: #2d8f4e;
            stroke-width: 2;
            stroke-dasharray: 300;
            stroke-dashoffset: 300;
            animation: draw-leaf 1s ease 2.5s forwards;
        }

        .rose-leaf.fill {
            fill: #3cb371;
            fill-opacity: 0;
            animation: draw-leaf 1s ease 2.5s forwards, fill-leaf 0.8s ease 3s forwards;
        }

        @keyframes draw-petal { to { stroke-dashoffset: 0; } }
        @keyframes fill-petal { to { fill-opacity: 0.8; } }
        @keyframes draw-stem { to { stroke-dashoffset: 0; } }
        @keyframes draw-leaf { to { stroke-dashoffset: 0; } }
        @keyframes fill-leaf { to { fill-opacity: 0.7; } }

        .intro-text {
            color: white;
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            font-weight: 800;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(20px);
            animation: text-appear 1s ease 3.5s forwards;
            background: linear-gradient(135deg, var(--gold) 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            padding: 0 20px;
        }

        .intro-subtext {
            color: rgba(255, 255, 255, 0.7);
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            margin-top: 10px;
            opacity: 0;
            animation: text-appear 1s ease 4s forwards;
        }

        @keyframes text-appear {
            to { opacity: 1; transform: translateY(0); }
        }

        .intro-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .intro-particle {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0;
            animation: particle-float 4s ease-in-out infinite;
        }

        @keyframes particle-float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        .skip-btn {
            position: absolute;
            bottom: 40px;
            padding: 10px 25px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.6);
            border-radius: 30px;
            font-family: 'Tajawal', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0;
            animation: fade-in 1s ease 2s forwards;
        }

        .skip-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-color: var(--primary);
        }

        @keyframes fade-in { to { opacity: 1; } }

        /* ===== BOOK SECTION ===== */
        .book-section {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            position: relative;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .book-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(255, 0, 110, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(131, 56, 236, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(58, 134, 255, 0.1) 0%, transparent 50%),
                var(--bg-dark);
        }

        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            animation: float-orb 20s ease-in-out infinite;
            z-index: -1;
            pointer-events: none;
        }

        .orb-1 {
            width: min(300px, 50vw);
            height: min(300px, 50vw);
            background: var(--primary);
            top: -100px;
            right: -100px;
            opacity: 0.3;
        }

        .orb-2 {
            width: min(250px, 40vw);
            height: min(250px, 40vw);
            background: var(--secondary);
            bottom: -100px;
            left: -100px;
            opacity: 0.3;
            animation-delay: -10s;
        }

        @keyframes float-orb {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, 30px) scale(1.1); }
        }

        /* Title */
        .title-container {
            text-align: center;
            margin-bottom: 15px;
            padding: 0 10px;
        }

        .title {
            font-size: clamp(1.3rem, 4.5vw, 2.2rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold) 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: title-glow 3s ease-in-out infinite;
        }

        @keyframes title-glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 0, 110, 0.5)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 0, 110, 0.8)); }
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: clamp(0.85rem, 2.5vw, 1.1rem);
            margin-top: 5px;
        }

        /* ===== 3D BOOK ===== */
        .book-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            flex: 1;
            max-height: 55vh;
        }

        .scene {
            perspective: 1500px;
            perspective-origin: center center;
        }

        .book-3d {
            --book-width: clamp(260px, 75vw, 350px);
            --book-height: clamp(320px, 50vh, 450px);
            --spine-width: clamp(20px, 5vw, 30px);
            
            width: var(--book-width);
            height: var(--book-height);
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(5deg) rotateY(-12deg);
            transition: transform 0.5s ease;
            animation: book-float 6s ease-in-out infinite;
        }

        @keyframes book-float {
            0%, 100% { transform: rotateX(5deg) rotateY(-12deg) translateY(0); }
            50% { transform: rotateX(5deg) rotateY(-12deg) translateY(-8px); }
        }

        .book-spine {
            position: absolute;
            width: var(--spine-width);
            height: 100%;
            left: calc(var(--spine-width) * -1);
            transform-origin: right center;
            transform: rotateY(-90deg);
            background: linear-gradient(180deg, #3d2a5c 0%, #1a1225 50%, #3d2a5c 100%);
            border-radius: 5px 0 0 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset -5px 0 15px rgba(0,0,0,0.5);
        }

        .book-spine::before {
            content: 'üíï';
            font-size: 1rem;
            transform: rotate(-90deg);
        }

        .book-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, #1a1225 0%, #2d1f3d 100%);
            border-radius: 0 12px 12px 0;
            transform: translateZ(calc(var(--spine-width) * -1));
            box-shadow: -5px 5px 20px rgba(0,0,0,0.4);
        }

        .pages-container {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .page-3d {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left center;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            will-change: transform;
            touch-action: none;
        }

        .page-3d.dragging {
            transition: none !important;
        }

        .page-3d.flipped {
            transform: rotateY(-180deg);
        }

        .page-front,
        .page-back {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 0 12px 12px 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: clamp(15px, 4vw, 25px);
        }

        .page-front {
            background: linear-gradient(135deg, #ffffff 0%, #f9f9f9 100%);
            box-shadow: inset 3px 0 10px rgba(0,0,0,0.05), 2px 0 5px rgba(0,0,0,0.1);
        }

        .page-back {
            background: linear-gradient(-135deg, #f0f0f0 0%, #ffffff 100%);
            transform: rotateY(180deg);
            box-shadow: inset -5px 0 15px rgba(0,0,0,0.05), -2px 0 5px rgba(0,0,0,0.1);
        }

        .page-3d::after {
            content: '';
            position: absolute;
            left: 0;
            top: 3%;
            height: 94%;
            width: 2px;
            background: linear-gradient(180deg, 
                transparent 0%, 
                rgba(180, 160, 180, 0.4) 20%,
                rgba(180, 160, 180, 0.6) 50%,
                rgba(180, 160, 180, 0.4) 80%,
                transparent 100%
            );
            pointer-events: none;
        }

        /* Cover */
        .cover .page-front {
            background: linear-gradient(145deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .cover .page-front::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%);
            animation: cover-shine 4s ease-in-out infinite;
            pointer-events: none;
        }

        .cover-malak {
            font-size: clamp(2rem, 8vw, 3rem);
            color: var(--gold);
            font-weight: 900;
            text-shadow: 0 0 15px rgba(255, 214, 10, 0.6);
            margin-top: 10px;
            opacity: 0;
            transform: scale(0.5);
            transition: all 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .cover-malak.show {
            opacity: 1;
            transform: scale(1);
        }

        @keyframes cover-shine {
            0%, 100% { transform: translate(-30%, -30%) rotate(0deg); }
            50% { transform: translate(30%, 30%) rotate(180deg); }
        }

        .cover-heart {
            font-size: clamp(2.5rem, 10vw, 4rem);
            animation: pulse-heart 1.5s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.4));
        }

        @keyframes pulse-heart {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .cover-title {
            font-size: clamp(1.3rem, 5vw, 1.8rem);
            font-weight: 900;
            margin: 10px 0;
            text-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }

        .cover-subtitle {
            font-size: clamp(0.8rem, 2.5vw, 1rem);
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .cover-date {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            font-weight: 700;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .cover-hint {
            position: absolute;
            bottom: 15px;
            font-size: clamp(0.7rem, 2vw, 0.85rem);
            opacity: 0.7;
            animation: blink 2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.3; }
        }

        /* Page Content */
        .page-emoji {
            font-size: clamp(2rem, 8vw, 3rem);
            margin-bottom: 10px;
            animation: emoji-bounce 3s ease-in-out infinite;
        }

        @keyframes emoji-bounce {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50% { transform: translateY(-5px) rotate(3deg); }
        }

        .page-title {
            font-size: clamp(1rem, 4vw, 1.4rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
            text-align: center;
        }

        .page-title::after {
            content: '';
            display: block;
            width: 40px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin: 8px auto;
            border-radius: 2px;
        }

        .page-text {
            font-size: clamp(0.8rem, 3vw, 1rem);
            line-height: 1.8;
            color: #4a4a5a;
            text-align: center;
            max-width: 95%;
        }

        .page-number {
            position: absolute;
            bottom: 10px;
            font-size: 0.75rem;
            color: #b8a9c9;
            font-weight: 600;
        }

        /* Final Page */
        .final-page .page-front,
        .final-page .page-back {
            background: linear-gradient(145deg, #1a1225 0%, #2d1f3d 100%);
        }

        .final-page .page-title {
            background: linear-gradient(135deg, var(--gold) 0%, var(--pink-light) 100%);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .final-page .page-text {
            color: rgba(255, 255, 255, 0.85);
        }

        .final-page .page-number {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Navigation */
        .navigation {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(15px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px 25px;
            border-radius: 50px;
            font-size: clamp(0.85rem, 2.5vw, 0.95rem);
            font-family: 'Tajawal', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255, 0, 110, 0.3);
            border-color: var(--primary);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .page-indicator {
            margin-top: 12px;
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .indicator-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }

        .indicator-dot.active {
            background: var(--primary);
            box-shadow: 0 0 15px var(--primary);
            transform: scale(1.3);
        }

        /* Continue Button */
        .continue-btn {
            display: none;
            margin-top: 20px;
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--gold), var(--primary));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            font-family: 'Tajawal', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            animation: glow-btn 2s ease-in-out infinite;
        }

        .continue-btn.show {
            display: inline-block;
        }

        @keyframes glow-btn {
            0%, 100% { box-shadow: 0 5px 20px rgba(255, 214, 10, 0.4); }
            50% { box-shadow: 0 10px 40px rgba(255, 214, 10, 0.6); }
        }

        .continue-btn:hover {
            transform: translateY(-3px) scale(1.05);
        }

        /* ===== INTERACTIVE SECTION ===== */
        .interactive-section {
            display: none;
            opacity: 0;
            transition: opacity 1s ease;
        }

        .interactive-section.show {
            display: block;
            opacity: 1;
        }

        /* Hero */
        .journey-hero {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            text-align: center;
            padding: 20px;
        }

        .journey-hero-title {
            font-size: clamp(2rem, 8vw, 4rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold) 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            animation: pulse-text 2s ease-in-out infinite;
        }

        @keyframes pulse-text {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .journey-hero-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: 30px;
        }

        .scroll-hint {
            position: absolute;
            bottom: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.6);
            animation: bounce-down 2s ease-in-out infinite;
        }

        .scroll-hint span {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .scroll-arrow {
            font-size: 1.5rem;
        }

        @keyframes bounce-down {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }

        /* ===== LOVE METER ===== */
        .love-meter-section {
            padding: 60px 20px;
            text-align: center;
        }

        .love-meter-title {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            font-weight: 800;
            color: white;
            margin-bottom: 30px;
        }

        .love-meter-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.1), rgba(131, 56, 236, 0.1));
            backdrop-filter: blur(20px);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .love-meter {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
        }

        .love-meter-heart {
            font-size: 5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-block;
            user-select: none;
        }

        .love-meter-heart:active {
            transform: scale(0.9);
        }

        .love-meter-heart.beating {
            animation: mega-beat 0.3s ease-in-out;
        }

        @keyframes mega-beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .love-counter {
            font-size: clamp(2rem, 8vw, 3rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .love-message {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            margin-top: 10px;
            min-height: 50px;
        }

        /* ===== SCRATCH CARD ===== */
        .scratch-section {
            padding: 60px 20px;
            text-align: center;
        }

        .scratch-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            font-weight: 800;
            color: white;
            margin-bottom: 30px;
        }

        .scratch-card {
            position: relative;
            width: min(300px, 85vw);
            height: 180px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            cursor: crosshair;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .scratch-content {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--gold), var(--primary));
            color: white;
            font-size: clamp(1rem, 4vw, 1.3rem);
            font-weight: 700;
            text-align: center;
            padding: 20px;
        }

        .scratch-content .emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .scratch-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #c0c0c0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1rem;
            font-weight: 600;
        }

        .scratch-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* ===== FLIP CARDS ===== */
        .flip-cards-section {
            padding: 60px 20px;
        }

        .flip-cards-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            font-weight: 800;
            color: white;
            text-align: center;
            margin-bottom: 30px;
        }

        .flip-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(150px, 45%), 1fr));
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        .flip-card {
            height: 180px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front,
        .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
        }

        .flip-card-front {
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.2), rgba(131, 56, 236, 0.2));
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .flip-card-front .emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .flip-card-front span {
            color: white;
            font-size: 0.9rem;
        }

        .flip-card-back {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            transform: rotateY(180deg);
            color: white;
            text-align: center;
            font-size: clamp(0.85rem, 3vw, 1rem);
            line-height: 1.6;
        }

        /* ===== WISH BOX ===== */
        .wish-section {
            padding: 60px 20px;
            text-align: center;
        }

        .wish-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            font-weight: 800;
            color: white;
            margin-bottom: 30px;
        }

        .wish-box {
            max-width: 400px;
            margin: 0 auto;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 214, 10, 0.1), rgba(255, 0, 110, 0.1));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .wish-input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 15px;
            outline: none;
        }

        .wish-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .wish-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--gold), var(--primary));
            color: white;
            border: none;
            border-radius: 50px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .wish-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 214, 10, 0.4);
        }

        .wish-result {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            display: none;
        }

        .wish-result.show {
            display: block;
            animation: wish-appear 0.5s ease;
        }

        @keyframes wish-appear {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .wish-result-emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .wish-result-text {
            color: white;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        /* ===== BALLOON POP ===== */
        .balloon-section {
            padding: 60px 20px;
            text-align: center;
        }

        .balloon-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            font-weight: 800;
            color: white;
            margin-bottom: 30px;
        }

        .balloon-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .balloon {
            font-size: 4rem;
            cursor: pointer;
            transition: transform 0.3s;
            animation: balloon-float 3s ease-in-out infinite;
            position: relative;
        }

        .balloon:nth-child(2) { animation-delay: 0.5s; }
        .balloon:nth-child(3) { animation-delay: 1s; }
        .balloon:nth-child(4) { animation-delay: 1.5s; }
        .balloon:nth-child(5) { animation-delay: 2s; }
        .balloon:nth-child(6) { animation-delay: 2.5s; }

        @keyframes balloon-float {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        .balloon:hover {
            transform: scale(1.2);
        }

        .balloon.popped {
            animation: balloon-pop 0.3s ease forwards;
        }

        @keyframes balloon-pop {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); }
            100% { transform: scale(0); opacity: 0; }
        }

        .balloon-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px 40px;
            border-radius: 20px;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            font-weight: 700;
            z-index: 1000;
            animation: message-pop 0.5s ease;
            text-align: center;
            max-width: 90vw;
            box-shadow: 0 20px 60px rgba(255, 0, 110, 0.5);
        }

        @keyframes message-pop {
            from { transform: translate(-50%, -50%) scale(0); }
            to { transform: translate(-50%, -50%) scale(1); }
        }

        /* ===== LOVE PUZZLE ===== */
        .puzzle-section {
            padding: 60px 20px;
            text-align: center;
        }

        .puzzle-title {
            font-size: clamp(1.5rem, 5vw, 2rem);
            font-weight: 800;
            color: white;
            margin-bottom: 30px;
        }

        .puzzle-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 0 auto;
        }

        .puzzle-piece {
            aspect-ratio: 1;
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.2), rgba(131, 56, 236, 0.2));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0;
            transform: scale(0.5) rotate(180deg);
        }

        .puzzle-piece.revealed {
            opacity: 1;
            transform: scale(1) rotate(0deg);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .puzzle-message {
            margin-top: 20px;
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: 700;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .puzzle-message.show {
            opacity: 1;
        }

        /* ===== TIMELINE ===== */
        .timeline {
            position: relative;
            padding: 50px 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--primary), var(--secondary), var(--accent), var(--gold));
            transform: translateX(-50%);
            border-radius: 3px;
        }

        @media (max-width: 600px) {
            .timeline::before {
                left: 20px;
            }
        }

        .timeline-item {
            position: relative;
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item:nth-child(odd) {
            padding-right: calc(50% + 40px);
            text-align: right;
        }

        .timeline-item:nth-child(even) {
            padding-left: calc(50% + 40px);
            text-align: left;
        }

        @media (max-width: 600px) {
            .timeline-item:nth-child(odd),
            .timeline-item:nth-child(even) {
                padding-right: 0;
                padding-left: 50px;
                text-align: right;
            }
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            top: 20px;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 20px var(--primary);
            z-index: 1;
        }

        @media (max-width: 600px) {
            .timeline-dot {
                left: 20px;
            }
        }

        .timeline-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: clamp(20px, 5vw, 30px);
            position: relative;
            overflow: hidden;
        }

        .timeline-emoji {
            font-size: clamp(2.5rem, 8vw, 4rem);
            margin-bottom: 15px;
            display: block;
        }

        .timeline-title {
            font-size: clamp(1.2rem, 4vw, 1.6rem);
            font-weight: 800;
            color: white;
            margin-bottom: 10px;
        }

        .timeline-text {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.9;
        }

        /* ===== FINAL MESSAGE ===== */
        .final-message {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .final-heart {
            font-size: clamp(5rem, 20vw, 10rem);
            animation: mega-pulse 1.5s ease-in-out infinite;
            filter: drop-shadow(0 0 50px rgba(255, 0, 110, 0.5));
            cursor: pointer;
        }

        @keyframes mega-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .final-text {
            font-size: clamp(1.8rem, 6vw, 3rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold), var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 30px 0;
        }

        .final-subtext {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
            line-height: 2;
        }

        .restart-btn {
            margin-top: 40px;
            padding: 15px 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: clamp(1rem, 3vw, 1.2rem);
            font-family: 'Tajawal', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255, 0, 110, 0.4);
        }

        .restart-btn:hover {
            transform: translateY(-5px) scale(1.05);
        }

        /* Floating Elements */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .floating-item {
            position: absolute;
            animation: float-up 12s linear infinite;
            opacity: 0;
        }

        @keyframes float-up {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -20px;
            animation: confetti-fall 3.5s linear forwards;
            z-index: 1000;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        /* Music Button */
        .music-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 8px 25px rgba(255, 0, 110, 0.4);
            transition: all 0.3s;
            z-index: 100;
        }

        .music-btn:hover {
            transform: scale(1.1);
        }

        /* Shake to celebrate */
        .shake-hint {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.8rem;
            z-index: 100;
            animation: fade-in-out 3s ease infinite;
        }

        @keyframes fade-in-out {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Click Effect Container -->
    <div id="clickEffects"></div>

    <!-- Intro Screen -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-particles" id="introParticles"></div>
        
        <div class="rose-container">
            <svg class="rose-svg" viewBox="0 0 200 250" xmlns="http://www.w3.org/2000/svg">
                <path class="rose-petal fill" d="M100,80 Q130,60 140,90 Q150,120 120,130 Q100,140 100,120 Q100,100 100,80" style="animation-delay: 0s"/>
                <path class="rose-petal fill" d="M100,80 Q70,60 60,90 Q50,120 80,130 Q100,140 100,120 Q100,100 100,80" style="animation-delay: 0.2s"/>
                <path class="rose-petal fill" d="M100,75 Q140,75 145,105 Q150,135 115,140 Q100,145 100,115 Q100,95 100,75" style="animation-delay: 0.4s"/>
                <path class="rose-petal fill" d="M100,75 Q60,75 55,105 Q50,135 85,140 Q100,145 100,115 Q100,95 100,75" style="animation-delay: 0.6s"/>
                <path class="rose-petal rose-petal-inner fill" d="M100,85 Q125,75 130,100 Q135,125 110,130 Q100,133 100,110 Q100,95 100,85" style="animation-delay: 0.8s"/>
                <path class="rose-petal rose-petal-inner fill" d="M100,85 Q75,75 70,100 Q65,125 90,130 Q100,133 100,110 Q100,95 100,85" style="animation-delay: 1s"/>
                <path class="rose-petal rose-petal-center fill" d="M100,90 Q115,85 118,105 Q120,120 105,122 Q100,123 100,108 Q100,98 100,90" style="animation-delay: 1.2s"/>
                <path class="rose-petal rose-petal-center fill" d="M100,90 Q85,85 82,105 Q80,120 95,122 Q100,123 100,108 Q100,98 100,90" style="animation-delay: 1.4s"/>
                <path class="rose-stem" d="M100,140 Q100,160 95,180 Q90,200 100,230"/>
                <path class="rose-leaf fill" d="M95,175 Q70,160 60,175 Q50,190 75,195 Q90,198 95,180" style="animation-delay: 2.7s"/>
                <path class="rose-leaf fill" d="M100,195 Q130,185 140,200 Q150,215 125,215 Q105,215 100,200" style="animation-delay: 2.9s"/>
            </svg>
        </div>
        
        <h2 class="intro-text">üåπ ŸáÿßŸä Ÿàÿ±ÿØÿ© ÿ•ŸÑ⁄Ü Ÿäÿß ⁄ØŸÑÿ®Ÿä üåπ</h2>
        <p class="intro-subtext">ŸáÿØŸäÿ© ÿÆÿßÿµÿ© ÿ®ŸÖŸÜÿßÿ≥ÿ®ÿ© ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ⁄Ü</p>
        
        <button class="skip-btn" id="skipBtn">ÿ™ÿÆÿ∑Ÿä ‚Üê</button>
    </div>

    <!-- Book Section -->
    <section class="book-section" id="bookSection">
        <div class="bg-animation"></div>
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="floating-elements" id="floatingElements"></div>

        <div class="title-container">
            <h1 class="title">‚ú® ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØ ŸÖŸÑŸàŸÉÿ™Ÿä ‚ú®</h1>
            <p class="subtitle">Ÿ°Ÿ† ŸäŸÜÿßŸäÿ± üíï</p>
        </div>

        <div class="book-wrapper">
            <div class="scene">
                <div class="book-3d" id="book3d">
                    <div class="book-spine"></div>
                    <div class="book-back"></div>

                    <div class="pages-container">
                        <div class="page-3d final-page" data-page="5">
                            <div class="page-front">
                                <div class="page-emoji">üíù</div>
                                <h2 class="page-title">ŸÑŸÑÿ£ÿ®ÿØ ŸàŸäÿß⁄Ü</h2>
                                <p class="page-text">ÿ±ÿßÿ≠ ÿ£ÿ∏ŸÑ ÿ£ÿ≠ÿ®⁄Ü ÿ®ŸÉŸÑ ŸÑÿ≠ÿ∏ÿ©ÿå ÿ®ŸÉŸÑ ŸÜŸéŸÅŸéÿ≥ÿå ÿ®ŸÉŸÑ ŸÜÿ®ÿ∂ÿ© ⁄ØŸÑÿ®!</p>
                                <span class="page-number">Ÿ¶</span>
                            </div>
                            <div class="page-back">
                                <div class="page-emoji">üåπ</div>
                                <h2 class="page-title">ÿ®ŸÉŸÑ ÿ≠ÿ®Ÿä</h2>
                                <div class="cover-malak show" style="font-size: 2.2rem; margin: 10px 0;">ŸÖŸÑÿßŸÉ</div>
                                <p class="page-text">ŸÉŸÑ ÿπÿßŸÖ ŸàÿßŸÜÿ™Ÿê ÿ£ÿ≠ŸÑŸâ! üíï</p>
                                <span class="page-number">üíï</span>
                            </div>
                        </div>

                        <div class="page-3d" data-page="4">
                            <div class="page-front">
                                <div class="page-emoji">üéÇ</div>
                                <h2 class="page-title">ŸäŸàŸÖ⁄Ü ÿßŸÑŸÖŸÖŸäÿ≤</h2>
                                <p class="page-text">Ÿ°Ÿ† ŸäŸÜÿßŸäÿ±... ÿßŸÑŸäŸàŸÖ ÿßŸÑŸÑŸä ÿßŸÑŸÑŸá ÿ£ŸáÿØÿßŸÜŸä ÿ®ŸäŸá ÿ£ÿ≠ŸÑŸâ ÿ•ŸÜÿ≥ÿßŸÜÿ©!</p>
                                <span class="page-number">Ÿ§</span>
                            </div>
                            <div class="page-back">
                                <div class="page-emoji">‚≠ê</div>
                                <h2 class="page-title">ÿ£ŸÖŸÜŸäÿßÿ™Ÿä ÿ•ŸÑ⁄Ü</h2>
                                <p class="page-text">ÿ≥ŸÜÿ© ŸÖŸÑŸäÿßŸÜÿ© ÿ≥ÿπÿßÿØÿ© Ÿàÿ≠ÿ® ŸàŸÅÿ±ÿ≠!</p>
                                <span class="page-number">Ÿ•</span>
                            </div>
                        </div>

                        <div class="page-3d" data-page="3">
                            <div class="page-front">
                                <div class="page-emoji">ü¶ã</div>
                                <h2 class="page-title">ŸÅÿ±ÿßÿ¥ÿ© ÿ≠Ÿäÿßÿ™Ÿä</h2>
                                <p class="page-text">ŸÖÿ™ŸÑ ÿßŸÑŸÅÿ±ÿßÿ¥ÿ© ÿ™ÿ≤ŸäŸÜŸäŸÜ ÿ≠Ÿäÿßÿ™Ÿä ÿ®ÿ£ŸÑŸàÿßŸÜ⁄Ü ÿßŸÑÿ≠ŸÑŸàÿ©!</p>
                                <span class="page-number">Ÿ¢</span>
                            </div>
                            <div class="page-back">
                                <div class="page-emoji">üí´</div>
                                <h2 class="page-title">ÿßŸÜÿ™Ÿê ÿ®ŸÜŸäÿ™Ÿä</h2>
                                <p class="page-text">ÿßŸÜÿ™Ÿê ÿßŸÑŸÜÿ¨ŸÖÿ© ÿßŸÑÿ£ŸÉÿ´ÿ± ŸÑŸÖÿπÿßŸÜ ÿ®ÿ≥ŸÖÿßŸäŸé!</p>
                                <span class="page-number">Ÿ£</span>
                            </div>
                        </div>

                        <div class="page-3d" data-page="2">
                            <div class="page-front">
                                <div class="page-emoji">üå∏</div>
                                <h2 class="page-title">ÿ£ÿ≠ŸÑŸâ ŸáÿØŸäÿ©</h2>
                                <p class="page-text">ÿ£ÿ±ŸäÿØ ÿ£⁄ØŸàŸÑ⁄Ü ÿ¥ŸÉÿØ ÿ£ÿ≠ÿ®⁄Ü!</p>
                            </div>
                            <div class="page-back">
                                <div class="page-emoji">üíñ</div>
                                <h2 class="page-title">⁄ØŸÑÿ®Ÿä ÿ•ŸÑ⁄Ü</h2>
                                <p class="page-text">ÿßŸÜÿ™Ÿê ÿ™ÿ≥ÿ™ÿßŸáŸÑŸäŸÜ ŸÉŸÑ ÿ¥Ÿä ÿ≠ŸÑŸà ÿ®ÿßŸÑÿØŸÜŸäÿß!</p>
                                <span class="page-number">Ÿ°</span>
                            </div>
                        </div>

                        <div class="page-3d cover" data-page="1">
                            <div class="page-front">
                                <div class="cover-heart">üíù</div>
                                <h1 class="cover-title">ÿ•ŸÑŸâ ÿ≠ÿ®Ÿäÿ®ÿ© ÿßÿ®ŸàŸáÿß</h1>
                                <div class="cover-malak" id="coverMalak">ŸÖŸÑÿßŸÉ</div>
                                <p class="cover-subtitle">ÿ£ÿ≠ŸÑŸâ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖÿπÿßŸäÿØÿ©</p>
                                <div class="cover-date">üéÇ Ÿ°Ÿ† ŸäŸÜÿßŸäÿ± üéÇ</div>
                                <p class="cover-hint">‚Üê ÿØŸàÿ≥Ÿä ÿ≠ÿ™Ÿâ ÿ™ŸÅÿ™ÿ≠ŸäŸÜ ÿßŸÑŸÉÿ™ÿßÿ®</p>
                            </div>
                            <div class="page-back">
                                <div class="page-emoji">üíï</div>
                                <h2 class="page-title">ŸÉŸÑ ÿπÿßŸÖ ŸàÿßŸÜÿ™Ÿê ÿ≠ÿ®Ÿäÿ®ÿ™Ÿä</h2>
                                <p class="page-text">ŸÖÿπ ŸÉŸÑ ÿ¥ÿ±ŸàŸÇ ÿ¥ŸÖÿ≥ÿå Ÿäÿ≤ŸäÿØ ÿ≠ÿ®Ÿä ÿ•ŸÑ⁄Ü!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="page-indicator" id="pageIndicator">
            <div class="indicator-dot active" data-page="0"></div>
            <div class="indicator-dot" data-page="1"></div>
            <div class="indicator-dot" data-page="2"></div>
            <div class="indicator-dot" data-page="3"></div>
            <div class="indicator-dot" data-page="4"></div>
            <div class="indicator-dot" data-page="5"></div>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn" disabled>‚Üí ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©</button>
            <button class="nav-btn" id="nextBtn">ÿßŸÑÿ™ÿßŸÑŸäÿ© ‚Üê</button>
        </div>

        <button class="continue-btn" id="continueBtn">‚ú® ÿØŸàÿ≥Ÿä ŸáŸÜÿß ‚ú®</button>
    </section>

    <!-- Interactive Section -->
    <section class="interactive-section" id="interactiveSection">
        <!-- Hero -->
        <div class="journey-hero">
            <h1 class="journey-hero-title">üíï ÿπÿßŸÑŸÖ ÿ≠ÿ®ŸÜÿß üíï</h1>
            <p class="journey-hero-subtitle">ÿ™ÿπÿßŸÑŸä ÿ™ŸÅÿßÿπŸÑŸä ŸàŸäÿßŸä ŸàÿßŸÉÿ™ÿ¥ŸÅŸä ÿßŸÑŸÖŸÅÿßÿ¨ÿ¢ÿ™!</p>
            <div class="scroll-hint">
                <span>ÿßÿ≥ÿ≠ÿ®Ÿä ŸÑŸÑÿ™ÿ≠ÿ™</span>
                <div class="scroll-arrow">‚Üì</div>
            </div>
        </div>

        <!-- Love Meter -->
        <div class="love-meter-section">
            <h2 class="love-meter-title">üíó ÿπÿØÿßÿØ ÿßŸÑÿ≠ÿ® üíó</h2>
            <div class="love-meter-container">
                <div class="love-meter">
                    <div class="love-meter-heart" id="loveMeterHeart">‚ù§Ô∏è</div>
                </div>
                <div class="love-counter" id="loveCounter">0</div>
                <p class="love-message" id="loveMessage">ÿØŸàÿ≥Ÿä ÿπŸÑŸâ ÿßŸÑ⁄ØŸÑÿ®!</p>
            </div>
        </div>

        <!-- Scratch Card -->
        <div class="scratch-section">
            <h2 class="scratch-title">üéÅ ÿ≠ŸÉŸä ÿ≠ÿ™Ÿâ ÿ™ŸÉÿ¥ŸÅŸäŸÜ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿ≥ÿ±Ÿäÿ© üéÅ</h2>
            <div class="scratch-card" id="scratchCard">
                <div class="scratch-content">
                    <span class="emoji">üíñ</span>
                    <span>ÿßŸÜÿ™Ÿê ÿ£ÿ∫ŸÑŸâ ÿ•ŸÜÿ≥ÿßŸÜÿ© ÿ®ÿ≠Ÿäÿßÿ™Ÿä Ÿàÿ±ÿßÿ≠ ÿ£ÿ≠ÿ®⁄Ü ŸÑŸÑÿ£ÿ®ÿØ!</span>
                </div>
                <canvas class="scratch-canvas" id="scratchCanvas"></canvas>
            </div>
        </div>

        <!-- Flip Cards -->
        <div class="flip-cards-section">
            <h2 class="flip-cards-title">üîÆ ÿØŸàÿ≥Ÿä ÿπŸÑŸâ ÿßŸÑÿ®ÿ∑ÿßŸÇÿßÿ™ ÿ≠ÿ™Ÿâ ÿ™ŸÉÿ™ÿ¥ŸÅŸäŸÜ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ üîÆ</h2>
            <div class="flip-cards-grid">
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">üíå</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ°</span>
                        </div>
                        <div class="flip-card-back">ÿ£ÿ≠ÿ®⁄Ü ÿ£ŸÉÿ´ÿ± ŸÖŸÜ ÿßŸÑŸÉŸÑŸÖÿßÿ™!</div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">üíù</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ¢</span>
                        </div>
                        <div class="flip-card-back">⁄ØŸÑÿ®Ÿä ŸäÿØ⁄Ø ÿ®ÿßÿ≥ŸÖ⁄Ü!</div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">üåπ</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ£</span>
                        </div>
                        <div class="flip-card-back">ÿßŸÜÿ™Ÿê Ÿàÿ±ÿØÿ© ÿ≠Ÿäÿßÿ™Ÿä!</div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">‚≠ê</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ§</span>
                        </div>
                        <div class="flip-card-back">ÿ®ŸÜŸäÿ™Ÿä ÿßŸÑŸÑŸä ÿ™ÿ∂ŸàŸä!</div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">ü¶ã</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ•</span>
                        </div>
                        <div class="flip-card-back">ŸÅÿ±ÿßÿ¥ÿ™Ÿä ÿßŸÑÿ≠ŸÑŸàÿ©!</div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="emoji">üî•</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© Ÿ¶</span>
                        </div>
                        <div class="flip-card-back">ÿ≠ÿ®Ÿä ÿ•ŸÑ⁄Ü ŸÖÿß ŸäŸÜÿ∑ŸÅŸä ÿ£ÿ®ÿØ!</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Balloon Pop -->
        <div class="balloon-section">
            <h2 class="balloon-title">üéà ŸÅÿ±⁄ØÿπŸä ÿßŸÑÿ®ÿßŸÑŸàŸÜÿßÿ™ ŸÑŸÑŸÖŸÅÿßÿ¨ÿ¢ÿ™! üéà</h2>
            <div class="balloon-container" id="balloonContainer">
                <div class="balloon" data-message="ÿ£ÿ≠ÿ®⁄Ü! üíï">üéà</div>
                <div class="balloon" data-message="ÿßŸÜÿ™Ÿê ÿ±ŸáŸäÿ®ÿ©! ‚ú®">üéà</div>
                <div class="balloon" data-message="ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØ! üéÇ">üéà</div>
                <div class="balloon" data-message="ÿßŸÜÿ™Ÿê ⁄ØŸÑÿ®Ÿä! ‚ù§Ô∏è">üéà</div>
                <div class="balloon" data-message="ŸÑŸÑÿ£ÿ®ÿØ ŸàŸäÿß⁄Ü! üíç">üéà</div>
                <div class="balloon" data-message="ÿ£ŸÖŸäÿ±ÿ™Ÿä! üëë">üéà</div>
            </div>
        </div>

        <!-- Puzzle -->
        <div class="puzzle-section">
            <h2 class="puzzle-title">üß© ÿßŸÉÿ¥ŸÅŸä ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ≥ÿ±Ÿäÿ©! üß©</h2>
            <div class="puzzle-container" id="puzzleContainer">
                <div class="puzzle-piece" data-index="0">üíñ</div>
                <div class="puzzle-piece" data-index="1">üíï</div>
                <div class="puzzle-piece" data-index="2">üíó</div>
                <div class="puzzle-piece" data-index="3">üíù</div>
                <div class="puzzle-piece" data-index="4">‚ù§Ô∏è</div>
                <div class="puzzle-piece" data-index="5">üíò</div>
                <div class="puzzle-piece" data-index="6">üíû</div>
                <div class="puzzle-piece" data-index="7">üíì</div>
                <div class="puzzle-piece" data-index="8">ü•∞</div>
            </div>
            <p class="puzzle-message" id="puzzleMessage">ÿßŸÜÿ™Ÿê ŸÉŸÑÿ¥Ÿä ÿ≠ŸÑŸà ÿ®ÿ≠Ÿäÿßÿ™Ÿä! üíï</p>
        </div>

        <!-- Wish Box -->
        <div class="wish-section">
            <h2 class="wish-title">üåü ÿßŸÉÿ™ÿ®Ÿä ÿ£ŸÖŸÜŸäÿ™⁄Ü üåü</h2>
            <div class="wish-box">
                <input type="text" class="wish-input" id="wishInput" placeholder="ÿßŸÉÿ™ÿ®Ÿä ÿ£ŸÖŸÜŸäÿ™⁄Ü ŸáŸÜÿß...">
                <button class="wish-btn" id="wishBtn">‚ú® ÿ£ÿ±ÿ≥ŸÑŸä ÿßŸÑÿ£ŸÖŸÜŸäÿ© ‚ú®</button>
                <div class="wish-result" id="wishResult">
                    <div class="wish-result-emoji">üå†</div>
                    <p class="wish-result-text" id="wishResultText"></p>
                </div>
            </div>
        </div>

        <!-- Timeline -->
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="timeline-emoji">üíò</span>
                    <h3 class="timeline-title">ŸÑÿ≠ÿ∏ÿ© ÿßŸÑŸÑŸÇÿßÿ°</h3>
                    <p class="timeline-text">ŸÖŸÜ ÿ£ŸàŸÑ ŸÜÿ∏ÿ±ÿ©ÿå ÿπÿ±ŸÅÿ™ ÿ•ŸÜŸà ⁄ØŸÑÿ®Ÿä ŸÑ⁄ØŸá ŸÜÿµŸá ÿßŸÑÿ´ÿßŸÜŸä!</p>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="timeline-emoji">üåπ</span>
                    <h3 class="timeline-title">Ÿàÿ±ÿØÿ™Ÿä</h3>
                    <p class="timeline-text">Ÿäÿß Ÿàÿ±ÿØÿ™Ÿä ÿßŸÜÿ™ ŸÖŸÑŸàŸÉŸä</p>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="timeline-emoji">üíë</span>
                    <h3 class="timeline-title">ÿ£ŸäÿßŸÖŸÜÿß ÿßŸÑÿ≠ŸÑŸàÿ©</h3>
                    <p class="timeline-text">ÿßŸÑŸäŸàŸÖ ŸàŸäÿßÿ¨ ŸäÿπÿßÿØŸÑ ÿßŸÑŸÅ ÿ≥ŸÜÿ© ÿ®ÿßŸÑŸÜÿ≥ÿ®ÿ© ÿßŸÑŸä ŸÖŸÑÿßŸÉŸä</p>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="timeline-emoji">üîÆ</span>
                    <h3 class="timeline-title">ŸÖÿ≥ÿ™ŸÇÿ®ŸÑŸÜÿß</h3>
                    <p class="timeline-text">ÿßŸÑŸÑŸá ŸäÿØŸäŸÖÿ¨ ÿßŸÑŸäŸá Ÿàÿ™ÿ®ŸÇŸäŸÜ ÿßŸÑŸä ÿ∑ŸàŸÑ ÿßŸÑÿπŸÖÿ±</p>
                </div>
            </div>
        </div>

        <!-- Final Message -->
        <div class="final-message">
            <div class="final-heart" id="finalHeart">üíñ</div>
            <h1 class="final-text">ŸÉŸÑ ÿπÿßŸÖ ŸàÿßŸÜÿ™Ÿê ŸÖŸÑŸàŸÉÿ™Ÿä Ÿàÿ≠Ÿäÿßÿ™Ÿä</h1>
            <p class="final-subtext">ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØ Ÿäÿß ÿ£ÿ≠ŸÑŸâ ÿ•ŸÜÿ≥ÿßŸÜÿ©! ÿ£ÿ≠ÿ®⁄Ü ÿßŸÑŸäŸàŸÖ Ÿàÿ®ÿß⁄Üÿ± ŸàŸÑŸÑÿ£ÿ®ÿØ! üíï</p>
            <button class="restart-btn" id="restartBtn">üîÑ ŸÖŸÜ ÿßŸÑÿ®ÿØÿßŸäÿ©</button>
        </div>
    </section>

    <!-- Music Button -->
    <button class="music-btn" id="musicBtn" style="display: none;">üéµ</button>
    
    <!-- Shake Hint -->
    <div class="shake-hint" id="shakeHint" style="display: none;">üì± Ÿáÿ≤Ÿä ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ ŸÑŸÑŸÖŸÅÿßÿ¨ÿ£ÿ©!</div>

    <script>
        // ===== CLICK HEARTS EFFECT =====
        document.addEventListener('click', function(e) {
            const hearts = ['üíï', 'üíñ', 'üíó', 'üíù', '‚ù§Ô∏è', 'üíò', 'üåπ', '‚ú®'];
            const heart = document.createElement('div');
            heart.className = 'click-heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = e.clientX + 'px';
            heart.style.top = e.clientY + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1500);
        });

        // ===== INTRO =====
        const introScreen = document.getElementById('introScreen');
        const bookSection = document.getElementById('bookSection');
        const interactiveSection = document.getElementById('interactiveSection');
        const skipBtn = document.getElementById('skipBtn');
        const musicBtn = document.getElementById('musicBtn');
        const continueBtn = document.getElementById('continueBtn');
        const restartBtn = document.getElementById('restartBtn');
        const shakeHint = document.getElementById('shakeHint');

        function createIntroParticles() {
            const container = document.getElementById('introParticles');
            const emojis = ['üåπ', 'üíï', '‚ú®', 'üíñ', 'üå∏', 'üíó'];
            
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'intro-particle';
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.bottom = '-50px';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particle.style.animationDuration = (4 + Math.random() * 4) + 's';
                container.appendChild(particle);
            }
        }

        function showBookSection() {
            introScreen.classList.add('hide');
            bookSection.classList.add('show');
            musicBtn.style.display = 'flex';
            if (/Mobi|Android/i.test(navigator.userAgent)) {
                shakeHint.style.display = 'block';
                setTimeout(() => shakeHint.style.display = 'none', 10000);
            }
            setTimeout(() => { introScreen.style.display = 'none'; }, 1000);
        }

        setTimeout(showBookSection, 6000);
        skipBtn.addEventListener('click', showBookSection);
        createIntroParticles();

        // ===== BOOK =====
        const pages = document.querySelectorAll('.page-3d');
        const pagesArray = Array.from(pages);
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const dots = document.querySelectorAll('.indicator-dot');
        
        let currentPage = 0;
        const totalPages = pages.length;

        // ===== BOOK SWIPE LOGIC =====
        let isDragging = false;
        let startX = 0;
        let currentX = 0;
        let dragPage = null;
        let isFlippingForwards = true;

        const book3d = document.getElementById('book3d');

        function handleTouchStart(e) {
            if (currentPage === totalPages && e.type === 'touchstart') return; // Don't drag if at the end unless it's a back swipe
            
            startX = e.touches ? e.touches[0].clientX : e.clientX;
            isDragging = true;
            
            // Determine if we are flipping forward or backward
            const rect = book3d.getBoundingClientRect();
            const clickX = startX - rect.left;
            
            if (clickX > rect.width / 2 && currentPage < totalPages) {
                // Prepare forward flip
                isFlippingForwards = true;
                dragPage = pagesArray[pagesArray.length - 1 - currentPage];
                dragPage.classList.add('dragging');
                dragPage.style.zIndex = 100; // Bring to front while interaction
            } else if (clickX < rect.width / 2 && currentPage > 0) {
                // Prepare backward flip
                isFlippingForwards = false;
                dragPage = pagesArray[pagesArray.length - currentPage];
                dragPage.classList.add('dragging');
                dragPage.style.zIndex = 100; // Bring to front while interaction
            } else {
                isDragging = false;
            }
        }

        function handleTouchMove(e) {
            if (!isDragging || !dragPage) return;
            
            currentX = e.touches ? e.touches[0].clientX : e.clientX;
            const deltaX = currentX - startX;
            const rect = book3d.getBoundingClientRect();
            let progress = deltaX / rect.width;
            
            if (isFlippingForwards) {
                progress = Math.min(0, Math.max(-1, progress));
                const rotation = progress * 180;
                dragPage.style.transform = `rotateY(${rotation}deg)`;
            } else {
                progress = Math.min(1, Math.max(0, progress));
                const rotation = -180 + (progress * 180);
                dragPage.style.transform = `rotateY(${rotation}deg)`;
            }
        }

        function handleTouchEnd() {
            if (!isDragging || !dragPage) return;
            
            isDragging = false;
            dragPage.classList.remove('dragging');
            dragPage.style.transform = ''; // Reset inline style to let CSS transition handle it
            
            const deltaX = currentX - startX;
            const threshold = 50; // pixels to trigger flip

            if (isFlippingForwards) {
                if (deltaX < -threshold) {
                    flipToPage(currentPage + 1);
                } else {
                    // Revert
                    dragPage.classList.remove('flipped');
                }
            } else {
                if (deltaX > threshold) {
                    flipToPage(currentPage - 1);
                } else {
                    // Revert
                    dragPage.classList.add('flipped');
                }
            }
            
            dragPage = null;
        }

        book3d.addEventListener('touchstart', handleTouchStart, { passive: false });
        window.addEventListener('touchmove', handleTouchMove, { passive: false });
        window.addEventListener('touchend', handleTouchEnd);
        
        // Also support mouse for testing
        book3d.addEventListener('mousedown', handleTouchStart);
        window.addEventListener('mousemove', handleTouchMove);
        window.addEventListener('mouseup', handleTouchEnd);

        function updateUI() {
            prevBtn.disabled = currentPage === 0;
            nextBtn.disabled = currentPage === totalPages;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentPage);
            });

            if (currentPage === totalPages) {
                continueBtn.classList.add('show');
            } else {
                continueBtn.classList.remove('show');
            }

            // Fix z-index stacking for all pages
            pagesArray.forEach((page, index) => {
                const pageIndex = pagesArray.length - 1 - index; // 0 for cover, 1 for page 2, etc.
                if (page.classList.contains('flipped')) {
                    // Flipped pages (on the left) - stack should be sequential
                    page.style.zIndex = pageIndex + 1;
                } else {
                    // Unflipped pages (on the right) - stack should be in reverse order
                    page.style.zIndex = (pagesArray.length - pageIndex) + 1;
                }
            });
        }

        function flipToPage(targetPage) {
            if (targetPage < 0 || targetPage > totalPages) return;
            
            if (targetPage > currentPage) {
                for (let i = currentPage; i < targetPage; i++) {
                    const page = pagesArray[pagesArray.length - 1 - i];
                    page.style.transform = ''; // Clear any manual style
                    page.classList.add('flipped');
                }
                createConfetti();
                
                // Show name on cover when book is fully flipped
                if (targetPage === totalPages) {
                    const coverMalak = document.getElementById('coverMalak');
                    if (coverMalak) coverMalak.classList.add('show');
                }
            } else {
                for (let i = currentPage - 1; i >= targetPage; i--) {
                    const page = pagesArray[pagesArray.length - 1 - i];
                    page.style.transform = ''; // Clear any manual style
                    page.classList.remove('flipped');
                }
            }
            
            currentPage = targetPage;
            updateUI();
        }

        nextBtn.addEventListener('click', () => {
            if (currentPage < totalPages) flipToPage(currentPage + 1);
        });

        prevBtn.addEventListener('click', () => {
            if (currentPage > 0) flipToPage(currentPage - 1);
        });

        // Click to flip page (if swipe wasn't used)
        pagesArray.forEach((page, index) => {
            page.addEventListener('click', (e) => {
                // If we were dragging, ignore the click
                if (Math.abs(currentX - startX) > 5) return;
                
                e.stopPropagation();
                const pageIndex = pagesArray.length - 1 - index;
                if (!page.classList.contains('flipped') && pageIndex === currentPage) {
                    flipToPage(currentPage + 1);
                }
            });
        });

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => flipToPage(index));
        });

        // ===== CONTINUE TO INTERACTIVE =====
        continueBtn.addEventListener('click', () => {
            interactiveSection.classList.add('show');
            setTimeout(() => {
                interactiveSection.scrollIntoView({ behavior: 'smooth' });
            }, 100);
            createConfetti();
        });

        restartBtn.addEventListener('click', () => {
            pagesArray.forEach(page => page.classList.remove('flipped'));
            currentPage = 0;
            updateUI();
            interactiveSection.classList.remove('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // ===== LOVE METER =====
        const loveMeterHeart = document.getElementById('loveMeterHeart');
        const loveCounter = document.getElementById('loveCounter');
        const loveMessage = document.getElementById('loveMessage');
        let loveCount = 0;

        const loveMessages = [
            { count: 0, msg: "ÿØŸàÿ≥Ÿä ÿπŸÑŸâ ÿßŸÑ⁄ØŸÑÿ®!" },
            { count: 10, msg: "ÿ®ÿØÿßŸäÿ© ÿ≠ŸÑŸàÿ©! üíï" },
            { count: 25, msg: "ÿ≠ÿ®⁄Ü ŸäŸÉÿ®ÿ±! üíñ" },
            { count: 50, msg: "ÿ±ŸáŸäÿ®ÿ©! ŸÉŸÖŸÑŸä! üíó" },
            { count: 75, msg: "⁄ØŸÑÿ®Ÿä ŸäÿØ⁄Ø ÿ®ÿ≠ÿ®⁄Ü! üíù" },
            { count: 100, msg: "ÿ£ÿ≠ÿ®⁄Ü ŸáŸàÿßŸäÿ©! ‚ù§Ô∏è" },
            { count: 150, msg: "ÿ≠ÿ®ŸÜÿß ŸÖÿß ŸÑŸá ÿ≠ÿØŸàÿØ! üíò" },
            { count: 200, msg: "ÿßŸÜÿ™Ÿê ŸÉŸÑÿ¥Ÿä ÿ•ŸÑŸä! ü•∞" },
            { count: 300, msg: "ŸÖŸÑŸÉÿ© ⁄ØŸÑÿ®Ÿä! üëë" },
            { count: 500, msg: "ÿ≠ÿ® ÿ£ÿ≥ÿ∑Ÿàÿ±Ÿä! ‚ú®" }
        ];

        loveMeterHeart.addEventListener('click', (e) => {
            e.stopPropagation();
            loveCount++;
            loveCounter.textContent = loveCount;
            loveMeterHeart.classList.add('beating');
            setTimeout(() => loveMeterHeart.classList.remove('beating'), 300);
            
            for (let i = loveMessages.length - 1; i >= 0; i--) {
                if (loveCount >= loveMessages[i].count) {
                    loveMessage.textContent = loveMessages[i].msg;
                    break;
                }
            }
            
            if (loveCount % 50 === 0) createConfetti();
        });

        // ===== SCRATCH CARD =====
        const scratchCanvas = document.getElementById('scratchCanvas');
        const scratchCtx = scratchCanvas.getContext('2d');
        let isScratching = false;

        function initScratchCard() {
            const rect = scratchCanvas.getBoundingClientRect();
            scratchCanvas.width = rect.width;
            scratchCanvas.height = rect.height;
            
            const gradient = scratchCtx.createLinearGradient(0, 0, rect.width, rect.height);
            gradient.addColorStop(0, '#c0c0c0');
            gradient.addColorStop(1, '#e0e0e0');
            scratchCtx.fillStyle = gradient;
            scratchCtx.fillRect(0, 0, rect.width, rect.height);
            
            scratchCtx.fillStyle = '#888';
            scratchCtx.font = '16px Tajawal';
            scratchCtx.textAlign = 'center';
            scratchCtx.fillText('ÿßÿ≠ŸÉŸä ŸáŸÜÿß ÿ≠ÿ™Ÿâ ÿ™ŸÉÿ¥ŸÅŸäŸÜ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©', rect.width/2, rect.height/2);
        }

        function scratch(e) {
            if (!isScratching) return;
            
            const rect = scratchCanvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            
            scratchCtx.globalCompositeOperation = 'destination-out';
            scratchCtx.beginPath();
            scratchCtx.arc(x, y, 25, 0, Math.PI * 2);
            scratchCtx.fill();
        }

        scratchCanvas.addEventListener('mousedown', () => isScratching = true);
        scratchCanvas.addEventListener('mouseup', () => isScratching = false);
        scratchCanvas.addEventListener('mousemove', scratch);
        scratchCanvas.addEventListener('touchstart', (e) => { isScratching = true; e.preventDefault(); });
        scratchCanvas.addEventListener('touchend', () => isScratching = false);
        scratchCanvas.addEventListener('touchmove', (e) => { scratch(e); e.preventDefault(); });

        setTimeout(initScratchCard, 100);
        window.addEventListener('resize', initScratchCard);

        // ===== BALLOON POP =====
        const balloons = document.querySelectorAll('.balloon');
        
        balloons.forEach(balloon => {
            balloon.addEventListener('click', (e) => {
                e.stopPropagation();
                if (balloon.classList.contains('popped')) return;
                
                balloon.classList.add('popped');
                createConfetti();
                
                const message = document.createElement('div');
                message.className = 'balloon-message';
                message.textContent = balloon.dataset.message;
                document.body.appendChild(message);
                
                setTimeout(() => message.remove(), 2000);
            });
        });

        // ===== PUZZLE =====
        const puzzlePieces = document.querySelectorAll('.puzzle-piece');
        const puzzleMessage = document.getElementById('puzzleMessage');
        let revealedCount = 0;

        puzzlePieces.forEach(piece => {
            piece.addEventListener('click', (e) => {
                e.stopPropagation();
                if (piece.classList.contains('revealed')) return;
                
                piece.classList.add('revealed');
                revealedCount++;
                
                if (revealedCount === puzzlePieces.length) {
                    puzzleMessage.classList.add('show');
                    createConfetti();
                }
            });
        });

        // ===== WISH BOX =====
        const wishInput = document.getElementById('wishInput');
        const wishBtn = document.getElementById('wishBtn');
        const wishResult = document.getElementById('wishResult');
        const wishResultText = document.getElementById('wishResultText');

        const wishResponses = [
            "ÿ£ŸÖŸÜŸäÿ™⁄Ü ÿ±ÿßÿ≠ ÿ™ÿ™ÿ≠ŸÇŸÇ ÿ•ŸÜ ÿ¥ÿßÿ° ÿßŸÑŸÑŸá! üåü",
            "ÿßŸÑŸÉŸàŸÜ Ÿäÿ≥ŸÖÿπ ÿ£ŸÖŸÜŸäÿßÿ™⁄Ü ÿßŸÑÿ≠ŸÑŸàÿ©! ‚ú®",
            "ÿ£ÿ™ŸÖŸÜŸâ ÿ•ŸÑ⁄Ü ŸÉŸÑ ÿ¥Ÿä ÿ™ÿ™ŸÖŸÜŸäŸá Ÿàÿ£ŸÉÿ´ÿ±! üíï",
            "⁄ØŸÑÿ®Ÿä ŸäÿØÿπŸäŸÑ⁄Ü ÿ®ÿ™ÿ≠ŸÇŸäŸÇ ŸÉŸÑ ÿ£ÿ≠ŸÑÿßŸÖ⁄Ü! üíñ",
            "ÿßŸÜÿ™Ÿê ÿ™ÿ≥ÿ™ÿßŸáŸÑŸäŸÜ ŸÉŸÑÿ¥Ÿä ÿ≠ŸÑŸà! üåπ"
        ];

        wishBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if (wishInput.value.trim()) {
                wishResultText.textContent = wishResponses[Math.floor(Math.random() * wishResponses.length)];
                wishResult.classList.add('show');
                createConfetti();
                wishInput.value = '';
            }
        });

        // ===== FINAL HEART =====
        const finalHeart = document.getElementById('finalHeart');
        finalHeart.addEventListener('click', (e) => {
            e.stopPropagation();
            createConfetti();
            createConfetti();
        });

        // ===== SCROLL ANIMATIONS =====
        function handleScrollAnimations() {
            const items = document.querySelectorAll('.timeline-item');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.2 });

            items.forEach(item => observer.observe(item));
        }

        handleScrollAnimations();

        // ===== FLOATING ELEMENTS =====
        function createFloatingElements() {
            const container = document.getElementById('floatingElements');
            const items = ['üíï', 'üíñ', 'üíó', 'üíù', '‚ù§Ô∏è', 'üåπ', '‚ú®', '‚≠ê', 'ü¶ã', 'üå∏'];
            
            for (let i = 0; i < 12; i++) {
                const item = document.createElement('div');
                item.className = 'floating-item';
                item.textContent = items[Math.floor(Math.random() * items.length)];
                item.style.left = Math.random() * 100 + '%';
                item.style.fontSize = (0.8 + Math.random() * 0.8) + 'rem';
                item.style.animationDelay = Math.random() * 12 + 's';
                item.style.animationDuration = (10 + Math.random() * 6) + 's';
                container.appendChild(item);
            }
        }

        // ===== CONFETTI =====
        function createConfetti() {
            const colors = ['#ff006e', '#8338ec', '#3a86ff', '#ffd60a', '#ff85a1'];
            
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.width = (5 + Math.random() * 10) + 'px';
                confetti.style.height = confetti.style.width;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        // ===== SHAKE TO CELEBRATE =====
        let lastShake = 0;
        window.addEventListener('devicemotion', (e) => {
            const acceleration = e.accelerationIncludingGravity;
            if (acceleration) {
                const shake = Math.abs(acceleration.x) + Math.abs(acceleration.y) + Math.abs(acceleration.z);
                if (shake > 30 && Date.now() - lastShake > 1000) {
                    lastShake = Date.now();
                    createConfetti();
                    createConfetti();
                }
            }
        });

        createFloatingElements();
        updateUI();

        // ===== MUSIC =====
        let isMusicPlaying = false;
        musicBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            isMusicPlaying = !isMusicPlaying;
            musicBtn.textContent = isMusicPlaying ? 'üîä' : 'üéµ';
        });

        // ===== BIRTHDAY CHECK =====
        const today = new Date();
        if (today.getMonth() === 0 && today.getDate() === 10) {
            setInterval(createConfetti, 4000);
        }
    </script>
</body>
</html>